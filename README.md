# Filling in evidence tables with GPT-4o

This repository contains the data and code used to generate the results for my master's thesis in Applied Data Science.

## Data
The "Data" folder includes the human-curated evidence tables in Word format, divided into a training dataset and a test dataset. The training dataset was used to iteratively improve the prompt given to the LLM, and the test dataset was used to generate the evidence tables for evaluation by comparing them with the manually curated ones.

## Code
The "Code" folder contains all the Python scripts used in this project. To automatically run the scripts, you need two folders: one containing the studies in PDF format and another containing the evidence tables in Word format. It is recommended to name these files in a way that identifies them, such as using the first author's name and the year of publication. Once you have these two folders, follow these steps:

### Generating Evidence Tables from PDF Studies
Run the script pdf_studies2text to convert the PDFs to text format using the path to the folder with your studies.
Run the script compress_text_files to reduce the size of the text files.
Run the script GPT-4o_tables_generator to generate the evidence tables from the medical studies in compressed text format.

### Transforming Human-Curated Evidence Tables into text format
Run the script word_evidence_tables2text to convert these Word documents into text format using the path to the folder containing them.
After this, you will have a folder with all the evidence tables generated by the LLM and the manually created evidence tables in text format. To compare them, follow these steps:

### Comparing Evidence Tables
Run the script split_tables to split the evidence tables created by humans and the LLM column by column and organize them appropriately.
Run the script numeric_comparison to generate an Excel table with all the relevant numeric metrics column by column.
Run the script text_comparison to generate an Excel file with all the text similarities calculated by different methods column by column.

### Visualizing Results
Finally, you can visualize these results using the Jupyter notebook visualizations.
